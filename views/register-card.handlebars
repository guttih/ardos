

{{#if item}}
			<div id='item' data-card='{{{item}}}' />
			<div class="row"><h3 class="page-header pull-right">Modify Card</h3></div>		
{{else}}
			<div class="row"><h3 class="page-header pull-right">New Card</h3></div>			
{{/if}}


{{#if itemUpload}}
	<script type="text/javascript">
		var itemUpload = {{{itemUpload}}};
	</script>
{{/if}}

{{#if errors}}
      {{#each errors}}
        <div class="alert alert-danger">{{msg}}</div>
      {{/each}}
{{/if}}
<style> 
.tooltip-inner {
    text-align: left;
}
</style>
<form  method="post" id="card-form">
	<div class="row row-padd">
		
		<label>Name</label>
			<p>Give the card a desciptive name, but not to long.</p>
		<input type="text"   id="name"     name="name" class="form-control" value="" placeholder="Name of your card">
		<input type="hidden" id="id"       name="id" value="">
		<input type="hidden" id="code"     name="code" value="">
	</div>
	<div class ="active-item" data-toggle="tooltip" data-container="body" data-placement="left" 
		title="If not checked this card will become in-active, and will not be listed in the default card list.">
		<label class="active-label" for="scales"
		>&nbsp;Active&nbsp;</label>
		<input type="checkbox" id="active" class="active-input" name="active" checked>
	</div>
	
	<div class="form-horizontal">
		<label>Description</label>
		<p>Describe what your card does. What device(s) will the user be controlling or seeing values from.</p>
		<div class="form-group">
			<div class="col-md-12">
				<textarea id="description" name="description" form="card-form" class="form-control" rows="3" placeholder="Describe your card, and what you can do with it."></textarea>
			</div>
		</div>
	</div>
	<div class="row row-padd">
		<label>Documentation link</label>
		<p>Url to documentation about this card.</p>
		<!--todo: the input minimizes to quickly wen making the with less-->
		<div class="pull-left   col-md-11 row-nopadd">
			<input 	type="text"   	id="helpurl"  
					name="helpurl" 	class="form-control" 
					value="" 		placeholder="Url to documentation" 
					onchange="changeHelpHref(this, 'a-open-helpurl')"
					onkeyup ="changeHelpHref(this, 'a-open-helpurl')"
					paste   ="changeHelpHref(this, 'a-open-helpurl')">
		</div>
		<a id="a-open-helpurl" class="btn btn-default pull-right col-md-1" href="#" target="_blank"> <span class="glyphicon glyphicon-open-file"></span></a>
	</div>
	<div class="row row-padd">
		<label>Card</label>
		<p>Here you need to insert the JavaScript code for your card.</p>

		<button 	id="btn-resize_editor-js-card-container" 
					type="button"
					rel="tooltip" data-placement="top" title="Resize the code window" 
					class="btn btn-default btn-sm" 
					onclick="resizeAceWindow(this)"
					>
						<span class="glyphicon glyphicon-plus"></span>
		</button>
		<div id="editor-js-card-container">
			<div class="acediv">			
				<div id="editor-js-card"></div>
			</div>
		</div>
	</div>
</form>
<div class="row  row-padd">
	<button id="btnUserAccessCard" type="button" class="btn btn-warning pull-left">User access</button>
	<button id="btnExportCard" type="button" class="btn btn-default pull-left" style="margin-left:15px">Export</button>
	
	<button id="btnSaveCard" type="button" class="btn btn-success pull-right">Save Card</button>
	<span class ="save-check">
		<input type="checkbox" id="close-on-save" class="save-check pull-right" name="close-on-save" checked>
  		<label class="save-check-label pull-right" for="scales">On save, close page and run card</label>
	</span>
</div>

<script src="/js/register-card.js" type="text/javascript" charset="utf-8"></script>
<script src="/vendor/ace-builds/src-min-noconflict/ace.js" type="text/javascript" charset="utf-8"></script>
<script src="/js/acecode.js" type="text/javascript" charset="utf-8"></script>
<script src="/js/bootstrap.min.js"></script>	
